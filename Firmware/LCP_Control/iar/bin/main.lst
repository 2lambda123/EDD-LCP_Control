###############################################################################
#
# IAR ANSI C/C++ Compiler V8.50.9.278/W32 for ARM         30/Sep/2021  12:15:11
# Copyright 1999-2020 IAR Systems AB.
#
#    Cpu mode                        
#    Endian                       =  little
#    Source file                  =
#        C:\version-control\EDD-LCP_Control\Firmware\LCP_Control\main.c
#    Command line                 =
#        -f C:\Users\casari\AppData\Local\Temp\1\EWBC74.tmp
#        (C:\version-control\EDD-LCP_Control\Firmware\LCP_Control\main.c -D iar
#        -D AM_PART_APOLLO3 -D AM_PACKAGE_BGA -D AM_FREERTOS -D AM_DEBUG_PRINTF
#        -D AM_UTIL_FAULTISR_PRINT -lcN
#        C:\version-control\EDD-LCP_Control\Firmware\LCP_Control\iar\bin
#        --diag_suppress Pa050 -o
#        C:\version-control\EDD-LCP_Control\Firmware\LCP_Control\iar\bin
#        --no_cse --no_unroll --no_inline --no_code_motion --no_tbaa
#        --no_clustering --no_scheduling --debug --endian=little
#        --cpu=Cortex-M4 --no_path_in_file_macros -e --fpu=VFPv4_sp
#        --dlib_config "C:\Program Files (x86)\IAR Systems\Embedded Workbench
#        8.4\arm\inc\c\DLib_Config_Normal.h" -I
#        C:\Tools\Ambiq\AmbiqSuite-R2.5.1\third_party\FreeRTOSv10.1.1\Source\include\\
#        -I C:\Tools\Ambiq\AmbiqSuite-R2.5.1\CMSIS\AmbiqMicro\Include\\ -I
#        C:\Tools\Ambiq\AmbiqSuite-R2.5.1\third_party\FreeRTOSv10.1.1\Source\portable\IAR\AMapollo2\\
#        -I C:\Tools\Ambiq\AmbiqSuite-R2.5.1\\ -I
#        C:\Tools\Ambiq\AmbiqSuite-R2.5.1\devices\\ -I
#        C:\Tools\Ambiq\AmbiqSuite-R2.5.1\utils\\ -I
#        C:\version-control\EDD-LCP_Control\Firmware\LCP_Control\iar\..\src\\
#        -I
#        C:\version-control\EDD-LCP_Control\Firmware\LCP_Control\iar\..\src\RTOS\\
#        -I
#        C:\version-control\EDD-LCP_Control\Firmware\LCP_Control\iar\..\src\artemis\\
#        -I
#        C:\version-control\EDD-LCP_Control\Firmware\LCP_Control\iar\..\src\bsp\\
#        -I C:\Tools\Ambiq\AmbiqSuite-R2.5.1\mcu\apollo3\\ -I
#        C:\Tools\Ambiq\AmbiqSuite-R2.5.1\CMSIS\ARM\Include\\ -I
#        $PROJ_DIR\src\RTOS\\ -I
#        C:\Tools\Ambiq\AmbiqSuite-R2.5.1\mcu\apollo3\hal\\ -Ol)
#    Locale                       =  C
#    List file                    =
#        C:\version-control\EDD-LCP_Control\Firmware\LCP_Control\iar\bin\main.lst
#    Object file                  =
#        C:\version-control\EDD-LCP_Control\Firmware\LCP_Control\iar\bin\main.o
#    Runtime model:                  
#      __SystemLibrary            =  DLib
#      __dlib_file_descriptor     =  0
#      __dlib_full_locale_support =  0
#      __dlib_version             =  6
#      __iar_require _Printf         
#
###############################################################################

C:\version-control\EDD-LCP_Control\Firmware\LCP_Control\main.c
      1          ///
      2          /// @file artemis_main.c
      3          ///
      4          
      5          #include "main.h"
      6          #include "S9_temp.h"
      7          #include "bsp_uart.h"
      8          
      9          #include "artemis_debug.h"
     10          #include "artemis_mcu.h"
     11          //#include "artemis_scheduler.h"
     12          //#include "artemis_time.h"
     13          //#include "artemis_pa9ld.h"
     14          //#include "artemis_ublox_i2c.h"
     15          #include "artemis_supercap.h"
     16          #include "ublox.h"
     17          
     18          #include <stdlib.h>
     19          
     20          ///
     21          ///
     22          ///
     23          int main(void)
     24          {
     25              // initialize mcu features
     26              artemis_mcu_initialize();
     27          
     28              // initialize debug features
     29              artemis_debug_initialize();
     30          
     31              // initialize time functions
     32              artemis_time_initialize();
     33          
     34              // initialize the scheduler
     35          //    artemis_scheduler_initialize();
     36          
     37              // run the application
     38          //    artemis_scheduler_run();
     39          //
     40          //    S9T_init(BSP_UART_COM1, &g_AM_BSP_GPIO_COM1_POWER_PIN, AM_BSP_GPIO_COM1_POWER_PIN);
     41          //    S9T_enable();
     42              
     43              /** Init GPS */
     44          
     45          //    UBLOX_initialize(UBLOX_COM_I2C, UBLOX_MSG_UBX, UBLOX_MSG_UBX, 1);
     46              
     47              artemis_sc_initialize();
     48              
     49              if(artemis_sc_power_startup())
     50              {
     51                printf("Success in starting supercap charging!\n");
     52              } else {
     53                printf("Failed to start supercap charge\n");
     54              }
     55              
     56              artemis_sc_power_off();
     57              
     58          //  float p, r, t;
     59          //  UBLOX_Nav_t gps = {0};
     60              
     61          //    ublox_data_t gps;
     62              while(true)
     63              {
     64          //      UBLOX_read_nav(&gps);
     65          //      printf("GPS Fix = %u\n", gps.fix);
     66                
     67          //      if(gps.fix)
     68          //      {
     69          //        printf("Lat=%.7f, Lon=%.7f, Alt=%.3f\n", gps.position.lat, gps.position.lon, gps.position.alt);
     70          //      }
     71          //      artemis_pa9ld_read(&p, &t);
     72          //      printf("p=%0.3f, t=%0.3f\n", p, t);
     73          //      S9T_Read(&t, &r);
     74          //      printf("t=%.3f, r=%.3f\n", t, r); 
     75          //      artemis_ublox_i2c_read_position(&gps);
     76          //      artemis_ublox_read_data(&gps);
     77          //      artemis_ublox_test();
     78          //    artemis_ublox_read_register(0x00, 240);
     79          
     80          //      printf("lat=%.6f%c, lon=%.6f%c, alt=%.3f\n", gps.lat, gps.NS, gps.lon, gps.EW, gps.alt);
     81          //      bsp_uart_putc(BSP_UART_COM0, 'C');
     82          //      printf("%c", bsp_uart_getc(BSP_UART_COM0));
     83          //      am_hal_systick_delay_us(500000);
     84              }
     85              return(EXIT_SUCCESS);
     86          }

   Maximum stack usage in bytes:

   .cstack Function
   ------- --------
       8   main
         8   -> artemis_debug_initialize
         8   -> artemis_mcu_initialize
         8   -> artemis_sc_initialize
         8   -> artemis_sc_power_off
         8   -> artemis_sc_power_startup
         8   -> artemis_time_initialize
         8   -> printf


   Section sizes:

   Bytes  Function/Label
   -----  --------------
      40  ?_0
      36  ?_1
      56  main

 
 76 bytes in section .rodata
 56 bytes in section .text
 
 56 bytes of CODE  memory
 76 bytes of CONST memory

Errors: none
Warnings: 2
