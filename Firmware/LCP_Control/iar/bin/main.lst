###############################################################################
#
# IAR ANSI C/C++ Compiler V8.50.9.278/W32 for ARM         21/Sep/2021  11:39:12
# Copyright 1999-2020 IAR Systems AB.
#
#    Cpu mode                        
#    Endian                       =  little
#    Source file                  =
#        C:\version-control\EDD-LCP_Control\Firmware\LCP_Control\main.c
#    Command line                 =
#        -f C:\Users\casari\AppData\Local\Temp\1\EWFD65.tmp
#        (C:\version-control\EDD-LCP_Control\Firmware\LCP_Control\main.c -D iar
#        -D AM_PART_APOLLO3 -D AM_PACKAGE_BGA -D AM_FREERTOS -D AM_DEBUG_PRINTF
#        -D AM_UTIL_FAULTISR_PRINT -lcN
#        C:\version-control\EDD-LCP_Control\Firmware\LCP_Control\iar\bin
#        --diag_suppress Pa050 -o
#        C:\version-control\EDD-LCP_Control\Firmware\LCP_Control\iar\bin
#        --no_cse --no_unroll --no_inline --no_code_motion --no_tbaa
#        --no_clustering --no_scheduling --debug --endian=little
#        --cpu=Cortex-M4 --no_path_in_file_macros -e --fpu=VFPv4_sp
#        --dlib_config "C:\Program Files (x86)\IAR Systems\Embedded Workbench
#        8.4\arm\inc\c\DLib_Config_Normal.h" -I
#        C:\Tools\Ambiq\AmbiqSuite-R2.5.1\third_party\FreeRTOSv10.1.1\Source\include\\
#        -I C:\Tools\Ambiq\AmbiqSuite-R2.5.1\CMSIS\AmbiqMicro\Include\\ -I
#        C:\Tools\Ambiq\AmbiqSuite-R2.5.1\third_party\FreeRTOSv10.1.1\Source\portable\IAR\AMapollo2\\
#        -I C:\Tools\Ambiq\AmbiqSuite-R2.5.1\\ -I
#        C:\Tools\Ambiq\AmbiqSuite-R2.5.1\devices\\ -I
#        C:\Tools\Ambiq\AmbiqSuite-R2.5.1\utils\\ -I
#        C:\version-control\EDD-LCP_Control\Firmware\LCP_Control\iar\..\src\\
#        -I
#        C:\version-control\EDD-LCP_Control\Firmware\LCP_Control\iar\..\src\RTOS\\
#        -I
#        C:\version-control\EDD-LCP_Control\Firmware\LCP_Control\iar\..\src\artemis\\
#        -I
#        C:\version-control\EDD-LCP_Control\Firmware\LCP_Control\iar\..\src\bsp\\
#        -I C:\Tools\Ambiq\AmbiqSuite-R2.5.1\mcu\apollo3\\ -I
#        C:\Tools\Ambiq\AmbiqSuite-R2.5.1\CMSIS\ARM\Include\\ -I
#        $PROJ_DIR\src\RTOS\\ -I
#        C:\Tools\Ambiq\AmbiqSuite-R2.5.1\mcu\apollo3\hal\\ -Ol)
#    Locale                       =  C
#    List file                    =
#        C:\version-control\EDD-LCP_Control\Firmware\LCP_Control\iar\bin\main.lst
#    Object file                  =
#        C:\version-control\EDD-LCP_Control\Firmware\LCP_Control\iar\bin\main.o
#    Runtime model:                  
#      __SystemLibrary            =  DLib
#      __dlib_file_descriptor     =  0
#      __dlib_full_locale_support =  0
#      __dlib_version             =  6
#      __iar_require _Printf      =  floats,widths
#
###############################################################################

C:\version-control\EDD-LCP_Control\Firmware\LCP_Control\main.c
      1          ///
      2          /// @file artemis_main.c
      3          ///
      4          
      5          #include "main.h"
      6          #include "S9_temp.h"
      7          #include "bsp_uart.h"
      8          
      9          #include "artemis_debug.h"
     10          #include "artemis_mcu.h"
     11          //#include "artemis_scheduler.h"
     12          //#include "artemis_time.h"
     13          //#include "artemis_pa9ld.h"
     14          #include "artemis_ublox_i2c.h"
     15          
     16          #include <stdlib.h>
     17          
     18          ///
     19          ///
     20          ///
     21          int main(void)
     22          {
     23              // initialize mcu features
     24              artemis_mcu_initialize();
     25          
     26              // initialize debug features
     27              artemis_debug_initialize();
     28          
     29              // initialize time functions
     30              artemis_time_initialize();
     31          
     32              // initialize the scheduler
     33          //    artemis_scheduler_initialize();
     34          
     35              // run the application
     36          //    artemis_scheduler_run();
     37          
     38              S9T_init(BSP_UART_COM1, &g_AM_BSP_GPIO_COM1_POWER_PIN, AM_BSP_GPIO_COM1_POWER_PIN);
     39              S9T_enable();
     40              
     41          //    artemis_pa9ld_initialize(&g_AM_BSP_GPIO_PRES_ON, AM_BSP_GPIO_PRES_ON);
     42              artemis_ublox_i2c_initialize(&g_AM_BSP_GPIO_PRES_ON, AM_BSP_GPIO_PRES_ON, &g_AM_BSP_GPIO_GPS_EXTINT, AM_BSP_GPIO_GPS_EXTINT);
     43          //    
     44          //    artemis_ublox_i2c_turn_off_nmea_output();
     45          //    artemis_ublox_i2c_turn_on_nmea_output(NMEA_GGA);
     46              float p, r, t;
     47              
     48              ublox_data_t gps;
     49              while(true)
     50              {
     51          //      artemis_pa9ld_read(&p, &t);
     52          //      printf("p=%0.3f, t=%0.3f\n", p, t);
     53          //      S9T_Read(&t, &r);
     54          //      printf("t=%.3f, r=%.3f\n", t, r); 
     55          //      artemis_ublox_i2c_read_position(&gps);
     56                artemis_ublox_read_data(&gps);
     57                printf("lat=%.6f%c, lon=%.6f%c, alt=%.3f\n", gps.lat, gps.NS, gps.lon, gps.EW, gps.alt);
     58          //      bsp_uart_putc(BSP_UART_COM0, 'C');
     59          //      printf("%c", bsp_uart_getc(BSP_UART_COM0));
     60          //      am_hal_systick_delay_us(500000);
     61              }
     62              return(EXIT_SUCCESS);
     63          }

   Maximum stack usage in bytes:

   .cstack Function
   ------- --------
      56   main
        56   -> S9T_enable
        56   -> S9T_init
        56   -> __aeabi_f2d
        56   -> artemis_debug_initialize
        56   -> artemis_mcu_initialize
        56   -> artemis_time_initialize
        56   -> artemis_ublox_i2c_initialize
        56   -> artemis_ublox_read_data
        56   -> printf


   Section sizes:

   Bytes  Function/Label
   -----  --------------
      36  ?_0
     116  main

 
  36 bytes in section .rodata
 116 bytes in section .text
 
 116 bytes of CODE  memory
  36 bytes of CONST memory

Errors: none
Warnings: 5
